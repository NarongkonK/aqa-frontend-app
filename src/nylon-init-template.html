<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/nylon-pages/nylon-pages.html">
<link rel="import" href="../bower_components/nylon-dialog/nylon-dialog.html">
<link rel="import" href="./layout/layout-main.html">

<!-- [[gen_import]] -->
<!-- [[gen_import_dialog]] -->
<link rel="lazy-import" href="pages/page-401/page-401.html">
<link rel="lazy-import" href="pages/page-403/page-403.html">
<link rel="lazy-import" href="pages/page-404/page-404.html">
<!-- เรียกล็อกอิน -->

<link rel="import" href="./redux-mixin.html">
<link rel="import" href="./[[app_folder]]/redux/app-redux.html">


<dom-module id="nylon-init">
  <template>
    <style>
       :host {
        display: block;
      }

      [hidden] {
        display: none;
      }
    </style>

   
    <layout-main id="layoutMain" path-name="[[pathName]]">
      <nylon-pages id="nylonPage">
        <!-- [[gen_route]] -->
        <page-401 path="*" rule></page-401>
        <page-403 path="*" rule></page-403>
        <page-404 path="*"></page-404>
      </nylon-pages>
    </layout-main>

    

    <nylon-dialog id="nylonDialog">
      <!-- [[gen_dialog]] -->
    </nylon-dialog>



  </template>

  <script>
    class NylonInit extends ReduxMixin(Polymer.Element) {

      static get is() { return 'nylon-init' }

      static get properties() {
        return {
          navigation: {
            type: Object,
            value: function(){
              return gen_navigation
            }
          },
          pathName: {
            type: String
          },
          login: {
            type: Boolean,
            value: true
          },
          dashboard: {
            type: Boolean,
            value: false
          },
          checkUrl: {
            type: Boolean,
            value: true
          },
        }
      }

      connectedCallback(){
        super.connectedCallback()
        this.dispatchEvent(new CustomEvent('ready'))
        //console.log('constructor app')
      }
     
    }

    window.customElements.define(NylonInit.is, NylonInit);
  </script>
</dom-module>